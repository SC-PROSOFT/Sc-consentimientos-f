<template>
  <q-card class="q-mx-auto q-ma-xl justify-center" style="width: 65%">
    <q-card-section>
      <div class="row">
        <p>Historia cl칤nica numero:</p>
        <q-input type="text" disable dense v-model="reg.hc" class="col-2" />
        <p>Ciudad:</p>
        <q-input
          type="text"
          disable
          label="Ciudad elaboraci칩n"
          v-model="reg.ciudad"
          dense
          class="col-2 q-mr-md"
        />
        <p>Fecha:</p>
        <q-input v-model="reg.fecha" disable dense type="date" class="col-2" />
      </div>
      <div class="row">
        <p>Yo,</p>
        <q-input v-model="reg.paciente" disable type="text" dense class="col-4" />
        <p>, de</p>
        <q-input v-model="reg.anios" disable type="text" dense style="width: 50px; display: inline-block" />
        <p>a침os de edad, identificada con</p>
        <q-input v-model="reg.tipo_id" disable type="text" dense style="width: 50px; display: inline-block" />
        <p>N춿</p>
        <q-input v-model="reg.cedula" disable type="text" dense class="col-2" />
      </div>
      <div class="row" style="margin-top: -15px">
        <p>, expedida en</p>
        <q-input v-model="reg.expedida" disable type="text" dense class="col-2" />
        <p>, con residencia en</p>
        <q-input v-model="reg.residencia" disable type="text" dense class="col-2" />
        <p>, telefono n칰mero</p>
        <q-input v-model="reg.telefono" disable type="text" dense class="col-2" />
      </div>
      <div class="row" style="margin-top: -15px">
        <p>, en calidad de paciente y mi acompa침ante</p>
        <q-input v-model="reg.acompanante" disable type="text" dense class="col-2" />
        <p>, de</p>
        <q-input v-model="reg.anios_acompnte" disable type="text" dense class="col-2" />
        <p>a침os de edad , identificado (a) con</p>
      </div>
      <div class="row" style="margin-top: -15px">
        <q-input v-model="reg.tipo_id_acompnte" disable type="text" dense class="col-2" />
        <p>N춿</p>
        <q-input v-model="reg.id_acompnte" disable type="text" dense class="col-2" />
        <p>, expedida en</p>
        <q-input v-model="reg.expedida_acompnte" disable type="text" dense class="col-2" />
        <p>; en pleno uso de nuestras facultades mentales y</p>
      </div>
      <div class="row" style="margin-top: -15px">
        <p>
          de nuestros derechos de salud y habiendo solicitado por nuestra voluntad los servicios de salud a la
          empresa social del estado ESE Salud Yopal, por medio del presente documento autorizamos al equipo de
          salud de la Instituci칩n, para atenderme y vigilarme durante la conducci칩n del trabajo de parto y la
          atenci칩n del parto vaginal.
        </p>
      </div>
      <div class="row">
        <p>
          Autorizo al personal m칠dico de la ESE Salud Yopal que me atiende a solicitar y practicar las ayudas
          diagn칩sticas y terap칠uticas, que consideren pertinentes durante la atenci칩n y proceso de parto, de
          mi salud previa informaci칩n detallada de los posibles riesgos como son: estudio de imagenologia,
          monitoreo fetal, pruebas de laboratorio cl칤nico, colocaci칩n de cat칠teres, toma de muestras de
          laboratorio y secreciones, actividades de higiene y confort, administraci칩n de medicamentos,
          administraci칩n de l칤quidos endovenosos.
        </p>
      </div>
      <div class="row">
        <p>
          Me informan que Aunque son procedimientos seguros pueden presentarse complicaciones como: hematomas,
          inflamaciones, infecciones, alergias, dolores locales, sangrados, efectos adversos medicamentosos y
          otros impredecibles.
        </p>
      </div>
      <div class="row">
        <p>
          Declaro que se me ha explicado sobre los riesgos y beneficios de los procedimientos durante mi
          estancia en los servicios de: urgencias e internaci칩n y que algunos de ellos pueden ser dados por mi
          edad, profesi칩n, creencias, valores y actitudes propias de mi ser.
        </p>
      </div>
      <div class="row">
        <p>
          Adem치s se me ha informado que en la ESE salud Yopal, participa personal id칩neo, competente y
          capacitado para la prescripci칩n y determinaci칩n de conductas terap칠uticas que contribuyan a mejorar
          mi calidad de vida y de mi hijo.
        </p>
      </div>
      <div class="row">
        <p>
          El Dr.
          <q-input
            v-model="reg.nombre_doc"
            disable
            type="text"
            dense
            class="col-2"
            style="width: 350px; display: inline-block"
          />
          me ha explicado en que consiste el trabajo de parto y el parto vaginal y me ha informado las
          complicaciones, molestias y posibles riesgos que se puedan presentar en particular los siguientes:
        </p>
      </div>
    </q-card-section>
  </q-card>
  <q-card class="q-mx-auto q-ma-xl justify-center" style="width: 65%">
    <q-card-section>
      <ol>
        <li>
          Que el trabajo de parto es un proceso fisiol칩gico donde se dilata y borra el cuello del 칰tero,
          permitiendo la expulsi칩n del feto y de la placenta por v칤a vaginal.
        </li>
        <li>
          Que existen tres etapas en el trabajo de parto que son: la dilataci칩n y borramiento del cuello
          uterino, el descenso y la expulsi칩n del feto, y el alumbramiento de la placenta.
        </li>
        <li>
          Que durante cualquiera de las etapas del trabajo de parto se pueden presentar situaciones
          imprevistas o complicaciones que ser치n, en lo posible atendidas por el personal m칠dico de la
          Instituci칩n.
        </li>
        <li>
          Que el trabajo de parto se adelantar치 dentro de la Instituci칩n con el fin de permitir la vigilancia
          y monitoreo constante por parte del equipo asistencial.
        </li>
        <li>
          Que en algunos casos se hace necesario inducir el proceso natural del parto con productos
          farmacol칩gicos, tales como uterot칩nicos, oxit칩cicos o prostagland칤nicos, que se aplican seg칰n
          criterio m칠dico y bajo vigilancia, con monitoreo constante.
        </li>
        <li>
          Que en caso de distocia del parto (cuando el parto o expulsi칩n procede de manera anormal o dif칤cil),
          se hace necesario instrumentar el parto con el uso de instrumentos que facilitan la extracci칩n del
          feto.
        </li>
      </ol>
      <div class="row">
        <p>
          Igualmente mi acompa침ante y yo hemos sido informados que se pueden presentar complicaciones maternas
          o fetales, que pueden comprometer mi salud, mi vida o la del feto. El profesional nos notifica que
          en la actualidad la Instituci칩n no dispone de m칠todos que nos permitan detectar de manera precoz y
          confiable, todas las situaciones de riesgo fetal, pero con la vigilancia constante del trabajo de
          parto y parto, se pretende minimizar su ocurrencia y prevenir sus posibles secuelas. Dentro de los
          riesgos materno y fetales frecuentes se encuentran:
        </p>
      </div>
      <ol type="a">
        <li>Sufrimiento fetal derivado de falta de ox칤geno</li>
        <li>S칤ndrome de aspiraci칩n meconial</li>
        <li>Desprendimiento placentario</li>
        <li>Prolapso de cord칩n</li>
        <li>Acretismo placentario (invasi칩n anormal de la placenta en la pared del 칰tero)</li>
        <li>Nudos verdaderos de cord칩n</li>
        <li>Ruptura uterina</li>
        <li>Inversi칩n uterina post parto</li>
        <li>Distocia de hombros</li>
        <li>
          Embolia de l칤quido amni칩tico (cuando el l칤quido amni칩tico o el material embrionario ingresa al
          torrente sangu칤neo de la madre)
        </li>
        <span>Entre otros</span>
      </ol>
      <div class="row">
        <p>
          Que algunas de estas complicaciones presentan riesgo potencial para m칤 y/o para el feto y pueden
          generar secuelas neurol칩gicas leves, moderadas o severas.
        </p>
      </div>
      <div class="row">
        <p>
          Comprendo y acepto que durante el procedimiento pueden aparecer circunstancias imprevisibles o
          inesperadas, que pueden requerir una extensi칩n de otro procedimiento, acepto que las ciencias de la
          salud no son una ciencia exacta y que no se me garantizan resultados en la atenci칩n y que adem치s al
          presentar factores de riesgo inherentes a mi persona y patolog칤as previas o actuales, mi riesgo
          aumentara de manera general.
        </p>
      </div>
    </q-card-section>
  </q-card>
  <q-card class="q-mx-auto q-ma-xl justify-center" style="width: 65%">
    <q-card-section>
      <div class="row">
        <p>
          Que si se hace necesario la episiotom칤a por mi condici칩n cl칤nica durante el expulsivo, deber치 ser
          suturada y que sus posibles complicaciones pueden ser: desgarros perineales, que en casos extremos
          pueden incluir m칰sculos perineales alrededor del ano (esf칤nter externo del ano y recto), dolor,
          formaci칩n de hematomas, infecciones de la herida, dehiscencia (abertura espont치nea) de la sutura y a
          largo plazo f칤stulas (conducto anormal de un cavidad org치nica) recto vaginales e incontinencia
          fecal.
        </p>
      </div>
      <div class="row">
        <p>
          Que en caso de presentar alguna complicaci칩n que me pueda llevar a la necesidad de realizaci칩n de
          una ces치rea de urgencia y en algunos casos (hemorragias incontrolables) a una histerectom칤a total o
          subtotal en procura de preservar mi vida y/o la de mi hijo(a); se iniciar치 el proceso de remisi칩n a
          un nivel de mayor complejidad, para realizar dicho procedimiento que no hace parte del portafolio de
          servicios de la Instituci칩n.
        </p>
      </div>
      <div class="row">
        <p>
          Se me ha dado la oportunidad de hacer preguntas y todas ellas han sido contestadas
          satisfactoriamente.
        </p>
      </div>
      <div class="row">
        <p>
          Me comprometo a seguir las indicaciones que me brindan los profesionales de LA ESE Salud Yopal para
          contribuir a una atenci칩n segura como son:
        </p>
        <ul>
          <li>Mantener puesta la manilla de identificaci칩n.</li>
          <li>Mantener elevadas las barandas de la cama.</li>
          <li>
            Pedir ayuda al personal de enfermer칤a en los casos que los requiera. (aseo diario, ir al ba침o.
            etc).
          </li>
          <li>Permanecer acompa침ado o asistir con acompa침ante si hay indicaci칩n.</li>
          <li>Tomarme 칰nicamente los medicamentos prescritos por los profesionales tratantes.</li>
          <li>
            Informar si soy al칠rgico a alg칰n medicamento o procedimiento y si vengo tomando medicamentos de
            forma regular.
          </li>
          <li>
            No manipular las llaves que regulan el ox칤geno, los goteos de sueros, los monitores, equipos
            terap칠uticos o dispositivos biom칠dicos.
          </li>
          <li>Lavarme frecuentemente las manos para evitar infecciones.</li>
          <li>Seguir las recomendaciones de aislamiento si cumplo criterios.</li>
        </ul>
      </div>
      <div class="row">
        <p>
          Por lo tanto, en forma consciente y voluntaria, luego de haber escuchado la informaci칩n y
          explicaciones, sin haber sido objeto de coacci칩n, persuasi칩n, ni manipulaci칩n manifiesto lo
          siguiente:
        </p>
      </div>
      <div class="row">
        <p>
          Mi acompa침ante y Yo que hemos recibido y comprendido toda la informaci칩n, relacionada con el trabajo
          de parto y atenci칩n del mismo, que entendemos y autorizamos las decisiones m칠dicas que durante su
          desarrollo se llegaren a presentar y que aceptamos los riesgos y limitaciones expuestas, en el
          entendido que se propender치 por minimizar su ocurrencia.
        </p>
      </div>
    </q-card-section>
  </q-card>
  <q-card class="q-mx-auto q-ma-xl justify-center" style="width: 65%">
    <q-card-section>
      <div class="row">
        <p>
          Declaramos que nos encontramos en capacidad de entender y expresar nuestra voluntad y en
          consecuencia suscribimos el presente documento en se침al de conformidad con su contenido.
        </p>
      </div>
    </q-card-section>
    <q-card-section>
      <div class="row justify-center">
        <q-space />
        <q-btn color="green" icon-right="check_circle" label="Aceptar" @click="btnAceptar" />
        <q-space />
        <!-- <q-btn color="red" icon-right="cancel" label="Canecelar" /> -->
        <q-space />
        <q-btn color="amber" icon-right="block" label="Disentir" @click="btnDisentir" />
        <q-space />
      </div>
    </q-card-section>
    <q-card-section v-if="disentir">
      <div class="q-mt-md q-mb-md row justify-center">
        <span style="font-weight: bold">DISENTIMIENTO</span>
      </div>
      <div class="row">
        <p>
          Expreso mi voluntad de <span style="font-weight: bold; text-decoration: underline">revocar</span> el
          consentimiento presentado y declaro por tanto que, tras la informaci칩n recibida, no consiento
          someterme al procedimiento, por los siguientes motivos:
        </p>
        <textarea
          class="col-12"
          v-model="revocar_motivos"
          style="resize: none; height: 100px"
        ></textarea>
      </div>
    </q-card-section>
    <q-card-sections v-if="aceptar">
      <q-card-actions align="around" class="row" style="margin-top: 10px; margin-bottom: 15px">
        <ContFirma @reciFirma="CallBackFirma" class="col-3" firmador="Santiago" quien_firma="PACIENTE" />
        <ContFirma @reciFirma="CallBackFirma" class="col-3" firmador="Santiago" quien_firma="TUTOR" />
        <ContFirma @reciFirma="CallBackFirma" class="col-3" firmador="Santiago" quien_firma="PROFESIONAL" />
      </q-card-actions>
      <div class="row" style="border: 0px solid #ccc; padding: 0px">
        <q-space />
        <div class="col-3 q-my-auto" style="border: 1px solid #ccc; padding: 1px; height: 170px">
          <div class="row">
            <p>Nombre del paciente:</p>
            <q-input
              v-model="reg.paciente"
              disable
              type="text"
              dense
              class="col-11 q-mx-auto"
              style="margin-top: -15px"
            />
          </div>
          <div class="row">
            <p>C.C:</p>
            <q-input
              v-model="reg.cedula"
              disable
              type="text"
              dense
              class="col-7 q-mx-auto"
              style="margin-top: -15px"
            />
          </div>
        </div>
        <q-space />
        <q-space />
        <div class="col-3 q-my-auto" style="border: 1px solid #ccc; padding: 1px; height: 170px">
          <div class="row">
            <p>Nombre Testigo (Acompa침ante):</p>
            <q-input
              v-model="reg.acompanante"
              disable
              type="text"
              dense
              class="col-11 q-mx-auto"
              style="margin-top: -15px"
            />
          </div>
          <div class="row">
            <p>C.C:</p>
            <q-input
              v-model="reg.id_acompnte"
              disable
              type="text"
              dense
              class="col-7 q-mx-auto"
              style="margin-top: -15px"
            />
          </div>
        </div>
        <q-space />
        <q-space />
        <div class="col-3 q-my-auto" style="border: 1px solid #ccc; padding: 1px; height: 170px">
          <div class="row">
            <p>Nombre del M칠dico:</p>
            <q-input
              v-model="reg.nombre_doc"
              disable
              type="text"
              dense
              class="col-11 q-mx-auto"
              style="margin-top: -15px"
            />
          </div>
          <div class="row">
            <p>CC No:</p>
            <q-input
              v-model="reg.cedula_doc"
              disable
              type="text"
              dense
              class="col-7 q-mx-auto"
              style="margin-top: -15px"
            />
          </div>
          <div class="row">
            <p>Registro N춿:</p>
            <q-input
              v-model="reg.registro_doc"
              disable
              type="text"
              dense
              class="col-6 q-mx-auto"
              style="margin-top: -15px"
            />
          </div>
        </div>
        <q-space />
      </div>
      <div class="q-ml-lg q-mt-md row">
        <p style="font-weight: bold">
          Dejo constancia que he explicado los prop칩sitos, ventajas, riesgos y alternativas de manejo del
          trabajo de parto y del parto vaginal.
        </p>
      </div>
    </q-card-sections>
</q-card>
<div style="height: 5px"></div>
</template>
<script setup>
import { ref, onMounted, defineAsyncComponent } from "vue";

const ContFirma = defineAsyncComponent(() => import("../../components/global/ContainerFirma.vue"));

const revocar_motivos = ref("");

const disentir = ref(false);
const aceptar = ref(false);

const reg = {
  hc: null,
  ciudad: null,
  fecha: null,
  paciente: null,
  anios: null,
  tipo_id: null,
  cedula: null,
  expedida: null,
  residencia: null,
  telefono: null,
  acompanante: null,
  anios_acompnte: null,
  tipo_id_acompnte: null,
  id_acompnte: null,
  expedida_acompnte: null,
  nombre_doc: null,
  cedula_doc: null,
  registro_doc: null,
};

function CallBackFirma(param, data) {
  console.log("游 ~ CallBackFirma ~ param:", param);
  console.log("游 ~ CallBackFirma ~ data:", data);
}

const btnDisentir = () => {
  disentir.value = !disentir.value;
};

const btnAceptar = () => {
  aceptar.value = !aceptar.value;
};
</script>
<style>
p {
  margin-top: 10px;
  margin-left: 5px;
  margin-right: 5px;
}
.custom-q-list .q-item {
  margin: 0;
}
</style>
